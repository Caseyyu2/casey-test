{"version":3,"file":"fela.js","sources":["../../../node_modules/hyphenate-style-name/index.js","../../../modules/utils/generateCSSDeclaration.js","../../../modules/utils/warning.js","../../../modules/utils/cssifyObject.js","../../../modules/utils/cssifyFontFace.js","../../../modules/utils/cssifyKeyframe.js","../../../modules/utils/cssifyMediaQueryRules.js","../../../modules/utils/generateAnimationName.js","../../../modules/utils/generateClassName.js","../../../modules/utils/generateCombinedMediaQuery.js","../../../modules/utils/generateCSSRule.js","../../../modules/utils/generateCSSSelector.js","../../../modules/utils/minifyCSSString.js","../../../modules/utils/processStyleWithPlugins.js","../../../modules/utils/styleTypes.js","../../../modules/utils/cssifyStaticStyle.js","../../../modules/utils/generateStaticReference.js","../../../modules/utils/isAttributeSelector.js","../../../modules/utils/isPseudoSelector.js","../../../modules/utils/isChildSelector.js","../../../modules/utils/isMediaQuery.js","../../../modules/utils/isUndefinedValue.js","../../../modules/utils/applyMediaRulesInOrder.js","../../../modules/utils/toCSSString.js","../../../modules/utils/checkFontFormat.js","../../../modules/createRenderer.js","../../../modules/utils/assign.js","../../../modules/combineRules.js","../../../modules/enhance.js","../../../modules/dom/DOMInterface.js","../../../modules/utils/isValidHTMLElement.js","../../../modules/dom/render.js","../../../modules/index.js"],"sourcesContent":["'use strict';\n\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction hyphenateStyleName(string) {\n    return string in cache\n    ? cache[string]\n    : cache[string] = string\n      .replace(uppercasePattern, '-$&')\n      .toLowerCase()\n      .replace(msPattern, '-ms-');\n}\n\nmodule.exports = hyphenateStyleName;\n","/* @flow weak */\nimport hyphenateStyleName from 'hyphenate-style-name'\n\nexport default function generateCSSDeclaration(property, value) {\n  return hyphenateStyleName(property) + ':' + value\n}\n","/* @flow weak */\nlet warning = () => true\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = (condition, message) => {\n    if (!condition) {\n      if (typeof console !== 'undefined') {\n        console.error(message) // eslint-disable-line\n      }\n    }\n  }\n}\n\nexport default warning\n","/* @flow weak */\nimport generateCSSDeclaration from './generateCSSDeclaration'\nimport warning from './warning'\n\n\nexport default function cssifyObject(style) {\n  let css = ''\n\n  for (let property in style) {\n    warning(typeof style[property] === 'string' || typeof style[property] === 'number', 'The invalid value `' + style[property] + '` has been used as `' + property + '`.')\n\n    // prevents the semicolon after\n    // the last rule declaration\n    if (css) {\n      css += ';'\n    }\n\n    css += generateCSSDeclaration(property, style[property])\n  }\n\n  return css\n}\n","/* @flow weak */\nimport cssifyObject from './cssifyObject'\n\nexport default function cssifyFontFace(fontFace) {\n  return '@font-face{' + cssifyObject(fontFace) + '}'\n}\n","/* @flow weak */\nimport cssifyObject from './cssifyObject'\n\nexport default function cssifyKeyframe(frames, animationName, prefixes = [ '' ]) {\n  const keyframe = Object.keys(frames).reduce((css, percentage) => {\n    return css + percentage + '{' + cssifyObject(frames[percentage]) + '}'\n  }, '')\n\n  return prefixes.reduce((css, prefix) => {\n    return css + '@' + prefix + 'keyframes ' + animationName + '{' + keyframe + '}'\n  }, '')\n}\n","/* @flow weak */\nexport default function cssifyMediaQueryRules(mediaQuery, mediaQueryRules) {\n  return '@media ' + mediaQuery + '{' + mediaQueryRules + '}'\n}\n","/* @flow weak */\nexport default function generateAnimationName(id) {\n  return 'k' + id\n}\n","/* @flow weak */\nconst chars = 'abcdefghijklmnopqrstuvwxyz'\nconst charLength = chars.length\n\nexport default function generateClassName(id, className = '') {\n  if (id <= charLength) {\n    return chars[id - 1] + className\n  }\n\n  // Bitwise floor as safari performs much faster https://jsperf.com/math-floor-vs-math-round-vs-parseint/55\n  return generateClassName(id / charLength | 0, chars[id % charLength] + className)\n}\n","/* @flow weak */\nexport default function generateCombinedMediaQuery(currentMediaQuery, nestedMediaQuery) {\n  if (currentMediaQuery.length === 0) {\n    return nestedMediaQuery\n  }\n  return currentMediaQuery + ' and ' + nestedMediaQuery\n}\n","/* @flow weak */\nexport default function generateCSSRule(selector, cssDeclaration) {\n  return selector + '{' + cssDeclaration + '}'\n}\n","/* @flow weak */\nexport default function getCSSSelector(className, pseudo = '') {\n  return '.' + className + pseudo\n}\n","/* @flow weak */\nexport default function minifyCSSString(style) {\n  return style.replace(/\\s{2,}/g, '')\n}\n","/* @flow weak */\nexport default function processStyleWithPlugins(style, plugins, type) {\n  for (let i = 0; i < plugins.length; ++i) {\n    style = plugins[i](style, type)\n  }\n\n  return style\n}\n","/* @flow weak */\nexport const RULE_TYPE = 1\nexport const KEYFRAME_TYPE = 2\nexport const FONT_TYPE = 3\nexport const STATIC_TYPE = 4\nexport const CLEAR_TYPE = 5\n","/* @flow weak */\nimport minifyCSSString from './minifyCSSString'\nimport cssifyObject from './cssifyObject'\nimport processStyleWithPlugins from './processStyleWithPlugins'\n\nimport { STATIC_TYPE } from './styleTypes'\n\nexport default function cssifyStaticStyle(staticStyle, plugins) {\n  if (typeof staticStyle === 'string') {\n    return minifyCSSString(staticStyle)\n  }\n\n  const processedStaticStyle = processStyleWithPlugins(staticStyle, plugins, STATIC_TYPE)\n  return cssifyObject(processedStaticStyle)\n}\n","/* @flow weak */\nexport default function generateStaticReference(style, selector) {\n  if (typeof style === 'string') {\n    return style\n  }\n\n  return selector + JSON.stringify(style)\n}\n","/* @flow weak */\nexport default function isAttributeSelector(property) {\n  return property.charAt(0) === '['\n}\n","/* @flow weak */\nexport default function isPseudoSelector(property) {\n  return property.charAt(0) === ':'\n}\n","\n/* @flow weak */\nexport default function isChildSelector(property) {\n  return property.charAt(0) === '>'\n}\n","/* @flow weak */\nexport default function isMediaQuery(property) {\n  return property.substr(0, 6) === '@media'\n}\n","export default function isUndefinedValue(value) {\n  return value === undefined || (typeof value === 'string' && value.indexOf('undefined') > -1)\n}\n","/* @flow weak */\nexport default function applyMediaRulesInOrder(order) {\n  let mediaRules = { }\n\n  for (let i = 0, len = order.length; i < len; ++i) {\n    mediaRules[order[i]] = ''\n  }\n\n  return mediaRules\n}\n","/* @flow weak */\nexport default function toCSSString(value) {\n  if (value.charAt(0) === '\"') {\n    return value\n  }\n  return '\"' + value + '\"'\n}\n","/* @flow weak */\nconst formats = {\n  '.woff': 'woff',\n  '.eot': 'eot',\n  '.ttf': 'truetype',\n  '.svg': 'svg'\n}\n\nconst extensions = Object.keys(formats)\n\nexport default function checkFontFormat(src) {\n  for (let i = 0, len = extensions.length; i < len; ++i) {\n    const extension = extensions[i]\n    if (src.indexOf(extension) !== -1) {\n      return formats[extension]\n    }\n  }\n\n  // TODO: warning: wrong font format\n}\n","/* @flow weak */\nimport cssifyFontFace from './utils/cssifyFontFace'\nimport cssifyKeyframe from './utils/cssifyKeyframe'\nimport cssifyMediaQueryRules from './utils/cssifyMediaQueryRules'\n\nimport generateAnimationName from './utils/generateAnimationName'\nimport generateClassName from './utils/generateClassName'\nimport generateCombinedMediaQuery from './utils/generateCombinedMediaQuery'\nimport generateCSSDeclaration from './utils/generateCSSDeclaration'\nimport generateCSSRule from './utils/generateCSSRule'\nimport generateCSSSelector from './utils/generateCSSSelector'\nimport cssifyStaticStyle from './utils/cssifyStaticStyle'\nimport generateStaticReference from './utils/generateStaticReference'\n\nimport isAttributeSelector from './utils/isAttributeSelector'\nimport isPseudoSelector from './utils/isPseudoSelector'\nimport isChildSelector from './utils/isChildSelector'\nimport isMediaQuery from './utils/isMediaQuery'\nimport isUndefinedValue from './utils/isUndefinedValue'\n\nimport applyMediaRulesInOrder from './utils/applyMediaRulesInOrder'\nimport processStyleWithPlugins from './utils/processStyleWithPlugins'\nimport toCSSString from './utils/toCSSString'\nimport checkFontFormat from './utils/checkFontFormat'\n\nimport { STATIC_TYPE, RULE_TYPE, KEYFRAME_TYPE, FONT_TYPE, CLEAR_TYPE } from './utils/styleTypes'\n\nexport default function createRenderer(config = { }) {\n  let renderer = {\n    listeners: [],\n    keyframePrefixes: config.keyframePrefixes || [ '-webkit-', '-moz-' ],\n    plugins: config.plugins || [ ],\n\n    // prettySelectors is currently useless, might reimplement better DX classNames later\n    // prettySelectors: config.prettySelectors && process.env.NODE_ENV !== 'production',\n    mediaQueryOrder: config.mediaQueryOrder || [ ],\n    selectorPrefix: config.selectorPrefix || '',\n\n    clear() {\n      renderer.fontFaces = ''\n      renderer.keyframes = ''\n      renderer.statics = ''\n      renderer.rules = ''\n      // apply media rules in an explicit order to ensure\n      // correct media query execution order\n      renderer.mediaRules = applyMediaRulesInOrder(renderer.mediaQueryOrder)\n      renderer.rendered = [ ]\n      renderer.uniqueRuleIdentifier = 0\n      renderer.uniqueKeyframeIdentifier = 0\n      // use a flat cache object with pure string references\n      // to achieve maximal lookup performance and memoization speed\n      renderer.cache = { }\n\n      // initial change emit to enforce a clear start\n      renderer._emitChange({ type: CLEAR_TYPE })\n    },\n\n    renderRule(rule, props = { }) {\n      const processedStyle = processStyleWithPlugins(rule(props), renderer.plugins, RULE_TYPE)\n      return renderer._renderStyleToClassNames(processedStyle).slice(1)\n    },\n\n    _renderStyleToClassNames(style, pseudo = '', media = '') {\n      let classNames = ''\n\n      for (let property in style) {\n        const value = style[property]\n        if (value instanceof Object) {\n          if (isPseudoSelector(property) || isAttributeSelector(property) || isChildSelector(property)) {\n            classNames += renderer._renderStyleToClassNames(value, pseudo + property, media)\n          } else if (isMediaQuery(property)) {\n            const combinedMediaQuery = generateCombinedMediaQuery(media, property.slice(6).trim())\n            classNames += renderer._renderStyleToClassNames(value, pseudo, combinedMediaQuery)\n          } else {\n            // TODO: warning\n          }\n        } else {\n          const declarationReference = media + pseudo + property + value\n          if (!renderer.cache[declarationReference]) {\n            // we remove undefined values to enable\n            // usage of optional props without side-effects\n            if (isUndefinedValue(value)) {\n              renderer.cache[declarationReference] = ''\n              continue\n            }\n\n            const className = renderer.selectorPrefix + generateClassName(++renderer.uniqueRuleIdentifier)\n\n            renderer.cache[declarationReference] = className\n\n            const cssDeclaration = generateCSSDeclaration(property, value)\n            const selector = generateCSSSelector(className, pseudo)\n            const cssRule = generateCSSRule(selector, cssDeclaration)\n\n            if (media) {\n              if (!renderer.mediaRules.hasOwnProperty(media)) {\n                renderer.mediaRules[media] = ''\n              }\n              renderer.mediaRules[media] += cssRule\n            } else {\n              renderer.rules += cssRule\n            }\n\n            renderer._emitChange({\n              selector: selector,\n              declaration: cssDeclaration,\n              media: media,\n              type: RULE_TYPE\n            })\n          }\n\n          classNames += ' ' + renderer.cache[declarationReference]\n        }\n      }\n\n      return classNames\n    },\n\n\n    renderKeyframe(keyframe, props = { }) {\n      const resolvedKeyframe = keyframe(props)\n      const keyframeReference = JSON.stringify(resolvedKeyframe)\n\n      if (!renderer.cache[keyframeReference]) {\n        // use another unique identifier to ensure minimal css markup\n        const animationName = generateAnimationName(++renderer.uniqueKeyframeIdentifier)\n\n        const processedKeyframe = processStyleWithPlugins(resolvedKeyframe, renderer.plugins, KEYFRAME_TYPE)\n        const cssKeyframe = cssifyKeyframe(processedKeyframe, animationName, renderer.keyframePrefixes)\n        renderer.cache[keyframeReference] = animationName\n        renderer.keyframes += cssKeyframe\n\n        renderer._emitChange({\n          name: animationName,\n          keyframe: cssKeyframe,\n          type: KEYFRAME_TYPE\n        })\n      }\n\n      return renderer.cache[keyframeReference]\n    },\n\n    renderFont(family, files, properties = { }) {\n      const fontReference = family + JSON.stringify(properties)\n\n      if (!renderer.cache[fontReference]) {\n        const fontFamily = toCSSString(family)\n\n        // TODO: proper font family generation with error proofing\n        const fontFace = {\n          ...properties,\n          src: files.map(src => 'url(\\'' + src + '\\') format(\\'' + checkFontFormat(src) + '\\')').join(','),\n          fontFamily: fontFamily\n        }\n\n        const cssFontFace = cssifyFontFace(fontFace)\n        renderer.cache[fontReference] = fontFamily\n        renderer.fontFaces += cssFontFace\n\n        renderer._emitChange({\n          fontFamily: fontFamily,\n          fontFace: cssFontFace,\n          type: FONT_TYPE\n        })\n      }\n\n      return renderer.cache[fontReference]\n    },\n\n    renderStatic(staticStyle, selector) {\n      const staticReference = generateStaticReference(staticStyle, selector)\n\n      if (!renderer.cache[staticReference]) {\n        const cssDeclarations = cssifyStaticStyle(staticStyle, renderer.plugins)\n        renderer.cache[staticReference] = true\n\n        if (typeof staticStyle === 'string') {\n          renderer.statics += cssDeclarations\n          renderer._emitChange({\n            type: STATIC_TYPE,\n            css: cssDeclarations\n          })\n        } else {\n          renderer.statics += generateCSSRule(selector, cssDeclarations)\n          renderer._emitChange({\n            selector: selector,\n            declaration: cssDeclarations,\n            type: RULE_TYPE,\n            media: ''\n          })\n        }\n      }\n    },\n\n    renderToString() {\n      let css = renderer.fontFaces + renderer.statics + renderer.keyframes + renderer.rules\n\n      for (let media in renderer.mediaRules) {\n        css += cssifyMediaQueryRules(media, renderer.mediaRules[media])\n      }\n\n      return css\n    },\n\n    subscribe(callback) {\n      renderer.listeners.push(callback)\n      return {\n        unsubscribe: () => renderer.listeners.splice(renderer.listeners.indexOf(callback), 1)\n      }\n    },\n\n    _emitChange(change) {\n      for (let i = 0, len = renderer.listeners.length; i < len; ++i) {\n        renderer.listeners[i](change)\n      }\n    }\n  }\n\n  // initial setup\n  renderer.keyframePrefixes.push('')\n  renderer.clear()\n\n  if (config.enhancers) {\n    for (let i = 0, len = config.enhancers.length; i < len; ++i) {\n      renderer = config.enhancers[i](renderer)\n    }\n  }\n\n  return renderer\n}\n","/* @flow weak */\nexport default function assign(base, ...extendingStyles) {\n  for (let i = 0, len = extendingStyles.length; i < len; ++i) {\n    const style = extendingStyles[i]\n\n    for (let property in style) {\n      const value = style[property]\n\n      if (base[property] instanceof Object && value instanceof Object) {\n        base[property] = assign({}, base[property], value)\n      } else {\n        base[property] = value\n      }\n    }\n  }\n\n  return base\n}\n","/* @flow weak */\nimport assign from './utils/assign'\n\nexport default function combineRules(...rules) {\n  return props => {\n    const style = { }\n\n    for (let i = 0, len = rules.length; i < len; ++i) {\n      assign(style, rules[i](props))\n    }\n\n    return style\n  }\n}\n","/* @flow weak */\nexport default function enhance(...enhancers) {\n  return createRenderer => config => {\n    let renderer = createRenderer(config)\n\n    for (let i = 0, len = enhancers.length; i < len; ++i) {\n      renderer = enhancers[i](renderer)\n    }\n\n    return renderer\n  }\n}\n","/* @flow weak */\nimport { RULE_TYPE } from '../utils/styleTypes'\n\nexport default function createDOMInterface(renderer, node) {\n  return change => {\n    // only use insertRule in production as browser devtools might have\n    // weird behavior if used together with insertRule at runtime\n    if (process.env.NODE_ENV === 'production' && change.type === RULE_TYPE && !change.media) {\n      node.sheet.insertRule(change.selector + '{' + change.declaration + '}', node.sheet.cssRules.length)\n    } else {\n      node.textContent = renderer.renderToString()\n    }\n  }\n}\n","export default function isValidHTMLElement(mountNode) {\n  return mountNode && mountNode.nodeType === 1\n}\n","/* @flow weak */\nimport createDOMInterface from './DOMInterface'\nimport warning from '../utils/warning'\nimport isValidHTMLElement from '../utils/isValidHTMLElement'\n\nexport default function render(renderer, mountNode) {\n  // mountNode must be a valid HTML element to be able\n  // to set mountNode.textContent later on\n  if (!isValidHTMLElement(mountNode)) {\n    throw new Error('You need to specify a valid element node (nodeType = 1) to render into.')\n  }\n\n  // warns if the DOM node either is not a valid <style> element thus the styles do not get applied as Expected\n  // or if the node already got the data-fela-stylesheet attribute applied suggesting it is already used by another Renderer\n  warning(mountNode.nodeName === 'STYLE', 'You are using a node other than `<style>`. Your styles might not get applied correctly.')\n  warning(!mountNode.hasAttribute('data-fela-stylesheet'), 'This node is already used by another renderer. Rendering might overwrite other styles.')\n\n  // mark and clean the DOM node to prevent side-effects\n  mountNode.setAttribute('data-fela-stylesheet', '')\n\n  const updateNode = createDOMInterface(renderer, mountNode)\n  renderer.subscribe(updateNode)\n\n  const css = renderer.renderToString()\n\n  if (mountNode.textContent !== css) {\n    // render currently rendered styles to the DOM once\n    mountNode.textContent = css\n  }\n}\n","/* @flow weak */\nimport createRenderer from './createRenderer'\nimport combineRules from './combineRules'\nimport enhance from './enhance'\nimport render from './dom/render'\n\nfunction deprecatedRender(renderer, mountNode) {\n  console.warn('Importing `render` from `fela` is deprecated. Use `fela-dom` to import `render` instead.') // eslint-disable-line\n  return render(renderer, mountNode)\n}\n\nexport default {\n  createRenderer,\n  combineRules,\n  enhance,\n  render: deprecatedRender\n}\n"],"names":["uppercasePattern","msPattern","cache","hyphenateStyleName","string","replace","toLowerCase","module","exports","generateCSSDeclaration","property","value","warning","condition","message","console","error","cssifyObject","style","css","cssifyFontFace","fontFace","cssifyKeyframe","frames","animationName","prefixes","keyframe","Object","keys","reduce","percentage","prefix","cssifyMediaQueryRules","mediaQuery","mediaQueryRules","generateAnimationName","id","chars","charLength","length","generateClassName","className","generateCombinedMediaQuery","currentMediaQuery","nestedMediaQuery","generateCSSRule","selector","cssDeclaration","getCSSSelector","pseudo","minifyCSSString","processStyleWithPlugins","plugins","type","i","RULE_TYPE","KEYFRAME_TYPE","FONT_TYPE","STATIC_TYPE","CLEAR_TYPE","cssifyStaticStyle","staticStyle","processedStaticStyle","generateStaticReference","JSON","stringify","isAttributeSelector","charAt","isPseudoSelector","isChildSelector","isMediaQuery","substr","isUndefinedValue","undefined","indexOf","applyMediaRulesInOrder","order","mediaRules","len","toCSSString","formats","extensions","checkFontFormat","src","extension","createRenderer","config","renderer","listeners","keyframePrefixes","mediaQueryOrder","selectorPrefix","clear","fontFaces","keyframes","statics","rules","rendered","uniqueRuleIdentifier","uniqueKeyframeIdentifier","_emitChange","renderRule","rule","props","processedStyle","_renderStyleToClassNames","slice","media","classNames","combinedMediaQuery","trim","declarationReference","generateCSSSelector","cssRule","hasOwnProperty","declaration","renderKeyframe","resolvedKeyframe","keyframeReference","processedKeyframe","cssKeyframe","name","renderFont","family","files","properties","fontReference","fontFamily","map","join","cssFontFace","renderStatic","staticReference","cssDeclarations","renderToString","subscribe","callback","push","unsubscribe","splice","change","enhancers","assign","base","extendingStyles","combineRules","enhance","createDOMInterface","node","textContent","isValidHTMLElement","mountNode","nodeType","render","Error","nodeName","hasAttribute","setAttribute","updateNode","deprecatedRender","warn"],"mappings":"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"}